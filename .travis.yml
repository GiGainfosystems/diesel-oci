language: rust
sudo: required
env:
  - ORACLE_HOME=/u01/app/oracle/product/11.2.0/xe ORACLE_SID=XE OCI_LIB_DIR=/u01/app/oracle/product/11.2.0/xe/lib LD_LIBRARY_PATH=/u01/app/oracle/product/11.2.0/xe/lib OCI_DATABASE_URL=oci://travis/travis@//localhost:1521/XE
before_install:
  - wget https://raw.githubusercontent.com/Vincit/travis-oracledb-xe/master/accept_the_license_agreement_for_oracledb_xe_11g_and_install.sh
  - bash ./accept_the_license_agreement_for_oracledb_xe_11g_and_install.sh
before_script:
  - export PATH=$HOME/.local/bin:$PATH
rust:
  - stable
  - beta
  - nightly
script:
  - |
    cargo test --package diesel-oci -- --exact --test-threads=1